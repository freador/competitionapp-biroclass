<%
  # Card component for consistent styling
  # Usage: <%= render "shared/card", title: "Card Title", variant: "default" do %>
  #   Card content here
  # <% end %>
  # Options:
  #   - title: Card title (optional)
  #   - subtitle: Card subtitle text (optional)
  #   - variant: "default", "gradient", "bordered" (default: "default")
  #   - badge_text: Badge text to show next to title (optional)
  #   - badge_count: Number to show in badge (optional)
  #   - extra_classes: Additional CSS classes (optional)

  variant ||= "default"

  base_classes = "rounded-3xl shadow-xl transition-all duration-200"

  variant_classes = {
    "default" => "border border-slate-100 bg-white p-6",
    "gradient" => "border border-indigo-100 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 p-8 text-white",
    "bordered" => "border border-slate-200 bg-white/80 p-6",
    "inner" => "rounded-2xl border border-slate-100 bg-slate-50/60 p-4 shadow-sm hover:shadow-md hover:border-slate-200"
  }

  card_classes = [
    base_classes,
    variant_classes[variant],
    extra_classes
  ].compact.join(" ")
%>

<article class="<%= card_classes %>">
  <% if defined?(title) && title.present? %>
    <header class="<%= defined?(content) ? 'mb-6' : '' %> flex items-center justify-between">
      <div>
        <% if defined?(subtitle) && subtitle.present? %>
          <p class="text-xs uppercase tracking-[0.3em] <%= variant == 'gradient' ? 'text-white/80' : 'text-indigo-400' %>"><%= subtitle %></p>
        <% end %>
        <h2 class="text-2xl font-semibold <%= variant == 'gradient' ? 'text-white' : 'text-slate-900' %>"><%= title %></h2>
      </div>
      <% if defined?(badge_count) && badge_count.present? %>
        <span class="rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-600"><%= badge_count %></span>
      <% elsif defined?(badge_text) && badge_text.present? %>
        <span class="rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-600"><%= badge_text %></span>
      <% end %>
    </header>
  <% end %>

  <%= content %>
</article>
