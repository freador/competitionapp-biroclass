<%= link_to "â† Voltar", public_competitions_path, class: "inline-flex items-center gap-2 font-['Montserrat'] text-sm font-bold text-[#FFCC00] transition-colors hover:text-black" %>

<section class="mx-auto max-w-7xl space-y-10 px-6 py-8">
  <header class="rounded-2xl border-4 border-black bg-white p-10 shadow-2xl">
    <p class="font-['Montserrat'] text-xs font-bold uppercase tracking-widest text-gray-600"><%= @competition.status %></p>
    <h1 class="mt-3 font-['Montserrat'] text-5xl font-bold text-black"><%= @competition.title %></h1>
    <p class="mt-4 text-lg text-gray-700"><%= @competition.description %></p>
    <dl class="mt-8 grid gap-6 text-sm sm:grid-cols-2">
      <div class="rounded-xl border-2 border-gray-200 bg-gray-50 p-6">
        <dt class="font-['Montserrat'] font-bold uppercase tracking-wide text-black">Regras</dt>
        <dd class="mt-2 whitespace-pre-line text-gray-700"><%= @competition.rules.presence || "Sem regras cadastradas" %></dd>
      </div>
      <div class="rounded-xl border-2 border-gray-200 bg-gray-50 p-6">
        <dt class="font-['Montserrat'] font-bold uppercase tracking-wide text-black">Organizador</dt>
        <dd class="mt-2 text-gray-700"><%= @competition.owner.name %></dd>
        <dt class="mt-4 font-['Montserrat'] font-bold uppercase tracking-wide text-black">Participantes</dt>
        <dd class="mt-2 text-gray-700"><%= pluralize(@competition.participants.count, "participante") %></dd>
      </div>
    </dl>
  </header>

<%= turbo_stream_from [:competition, @competition, :leaderboard] %>
<div id="<%= dom_id(@competition, :leaderboard) %>">
  <%= render "competitions/leaderboard", competition: @competition, leaderboard: @leaderboard %>
</div>

  <article class="rounded-2xl border-4 border-black bg-white p-10 shadow-2xl">
    <h2 class="font-['Montserrat'] text-4xl font-bold text-black">Participantes</h2>
    <% if @participants.any? %>
      <ul class="mt-8 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
        <% @participants.each do |participant| %>
          <li class="rounded-xl border-2 border-gray-200 bg-gray-50 p-6 transition-all hover:border-[#FFCC00] hover:shadow-md">
            <p class="font-['Montserrat'] text-lg font-bold text-black"><%= participant.display_name %></p>
            <% if participant.user&.email %>
              <p class="mt-1 text-sm text-gray-600"><%= participant.user.email %></p>
            <% end %>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p class="mt-6 rounded-xl border-2 border-dashed border-gray-300 bg-gray-50 p-8 text-center text-gray-600">Nenhum participante cadastrado.</p>
    <% end %>
  </article>
</section>
