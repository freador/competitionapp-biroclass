<% content_for :title, "Painel de notas · #{@competition.title}" %>

<div class="flex flex-wrap items-center justify-between gap-4">
  <div>
    <p class="text-xs uppercase tracking-[0.3em] font-['Montserrat'] text-[#FFCC00]">Painel do jurado</p>
    <h1 class="text-3xl font-['Montserrat'] font-bold text-black"><%= @competition.title %></h1>
    <p class="mt-1 text-sm text-gray-600">Avalie cada participante com uma nota de 0 a 10. Comentários são opcionais.</p>
  </div>
  <div class="flex gap-3">
    <%= link_to competition_path(@competition), class: "inline-flex items-center rounded-full border-2 border-black px-4 py-2 text-xs font-['Montserrat'] font-semibold uppercase tracking-wide text-black hover:bg-black hover:text-[#FFCC00] transition-colors" do %>
      ← Voltar
    <% end %>
  </div>
</div>

<section class="mt-8 space-y-6">
  <% if @participants.any? %>
    <div class="grid gap-6 md:grid-cols-2">
      <% @participants.each do |participant| %>
        <% note = @participant_notes[participant.id] || current_user.notes.build(competition: @competition, participant:, judge: current_user) %>
        <%= render "competitions/judging_card", competition: @competition, participant:, note: note %>
      <% end %>
    </div>
  <% else %>
    <div class="rounded-2xl border-4 border-dashed border-black bg-white p-8 text-center text-gray-600">
      Nenhum participante cadastrado ainda.
    </div>
  <% end %>
</section>
